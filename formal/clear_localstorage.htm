<html><head>
  <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1,user-scalable=no">
  <title>local storage</title>
</head>
<body>
<div id="result"></div>

<div id="deleteOriginStorageDiv">
  <button onclick="deleteOriginStorage()">清除缓存</button><br><br>
</div>

<div id="result"></div>

<script>
	function isMethodValid(methodName){
		if(typeof tbs_bridge_for_demo == "undefined"
		   || typeof tbs_bridge_for_demo.hasMethod == "undefined"
		   || typeof tbs_bridge_for_demo.hasMethod(methodName) == "undefined"){
			return false;
		}
		return true;
	}
	function deleteOriginStorage(){
		var args = "{url:" + location.href +"}"
		tbs_bridge_for_demo.jsExec("deleteOriginStorage", args);
	}
	if (!isMethodValid("deleteOriginStorage")) {
		document.getElementById("deleteOriginStorageDiv").style.display = "none";
	}
</script>

<fieldset>
	<legend>local storage</legend>
  <button onclick="setLocal()">set</button>
  <button onclick="getLocal()">get</button>
  <button onclick="removeLocal()">remove</button>
  <button onclick="lengthLocal()">length</button>
</fieldset>
<br><br>

<script type="text/javascript">
	var dex=0;
	function setLocal(){
		if(window.localStorage){
			var v = "isasc"+dex;
  		localStorage.setItem("b",v);
  		dex++;
	  }
	}
	function getLocal(){
		if(window.localStorage){
 		  alert(localStorage.getItem("b"));
	  }
	}	
	function removeLocal(){
		if(window.localStorage){
 		  localStorage.removeItem("b");
 		  localStorage.clear();
	  }
	}	
	function lengthLocal(){
		if(window.localStorage){
 		  alert(localStorage.length);
	  }
	}

</script>

</body></html>