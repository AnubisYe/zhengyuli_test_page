<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
</head>
<body>

current is statetst2222222222@# 	<br><br>

<button onclick="pushState()"> pushState</button><br><br>

<button onclick="replaceState()"> replaceState</button><br><br>

<a href="./statetest4.htm">Next Page</a><br><br>

<div id="result"></div>

<script>
	var index=0;
	function pushState(){
		index+=1;
		url='./statetest3.htm?index='+index;
		stateObj = {pageid: "id:"+index,};
		stateTitle = "title:"+index;
		document.getElementById("result").innerHTML+="will pushState "+url+"<br>";
		window.history.pushState(stateObj , stateTitle, url);
		
	}
	
	function replaceState(){
		index+=1;
		url='./statetest3.htm?index='+index;
		stateObj = {pageid: "id:"+index,};
		stateTitle = "title:"+index;
		document.getElementById("result").innerHTML+="will replaceState "+url+"<br>";
		window.history.replaceState(stateObj , stateTitle, url);
	}
	
	window.onpopstate = function(event) {
  	document.getElementById("result").innerHTML+="location: " + document.location + ", state: " + JSON.stringify(event.state);
	};
</script>
</body>
</html>